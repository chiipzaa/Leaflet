<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Basic map! with marker</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin="" />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
        crossorigin=""></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <style>
        #mapid {
            height: 100vh;
            width: 100%;
        }
    </style>


</head>

<body>
    <div class="" id="mapid"></div>

    <script>
        var mymap = L.map('mapid').setView([13.849895, 100.529282], 5);

        L.tileLayer(
            'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                maxZoom: 18,
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                    '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                    'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                id: 'mapbox.streets'
            }).addTo(mymap);

        /*
        var marker1 = L.marker([13.849895, 100.529282]).addTo(mymap);
        var marker2 = L.marker([13.840895, 100.529282], {
            title: "Where is here!?",
        }).addTo(mymap);

        var circle1 = L.circle([13.849895, 100.529282], {
            radius: 1500 //Unit is m. | หน่วยเป็นเมตร
        }).addTo(mymap);

        var rectangle = L.rectangle([
            [13.8499, 100.5259],
            [13.8462, 100.5227]
        ]).addTo(mymap);

        var polygonMoph = L.polygon([
            [13.854934739015947, 100.52668333053589],
            [13.845517867703013, 100.52706956863402],
            [13.846663746327819, 100.53254127502441],
            [13.848392970649076, 100.53219795227051],
            [13.852163885089649, 100.53217649459839],
            [13.85383056810365, 100.53226232528687],
            [13.854705571899691, 100.53213357925415],
            [13.855538905784245, 100.53187608718872],
            [13.854934739015947, 100.52668333053589]
        ]).addTo(mymap);

        //add POPUP
        marker1.bindPopup("Marker 1 is Here!");
        marker2.bindPopup("Marker 2 is Here!").openPopup(); //Display on load 
        // popup จะแสดงเพียงแค่อันเดียวเท่านั้น!
        
        */

        // ajax feed data from API
        var mapUrl = "http://opendata.service.moph.go.th/gis/v1/geojson/1";
        var mapArea;
        $.ajax({
            type: "get",
            url: mapUrl,
            async: false, // ให้ทำตามลำดับ ทำให้เสร็จก่อนจึงทำคำสั่งบรรทัดต่อไป
            success:function(response){
                console.log(response)
                mapArea = response;
            }
        });
        var areaMap1 = L.geoJSON(mapArea).addTo(mymap);



        
    </script>

</body>

</html>